{% include 'dispositivos/base.html' %}

{% block content %}
<h2>Listado de Dispositivos</h2>
<input type="text" id="search" placeholder="Buscar dispositivo" onkeyup="searchDispositivo()">
<div id="search-results">
    {% include 'dispositivos/dispositivo_table.html' %}
</div>

<script>
    function searchDispositivo() {
        const query = document.getElementById('search').value;
        fetch(`/dispositivos/search/?q=${query}`)
            .then(response => response.text())
            .then(data => {
                document.getElementById('search-results').innerHTML = data;
            })
            .catch(error => console.error('Error:', error));
    }
</script>
{% endblock %}
